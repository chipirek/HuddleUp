<div id="content">

  <!-- row -->
  <div class="row">

    <!-- col -->
    <div class="col-xs-12 col-sm-7 col-md-7 col-lg-9">
      <h1 class="page-title txt-color-blueDark">

        <!-- PAGE HEADER -->
        <i class="fa-fw fa fa-user"></i>
        <%= current_user.name %>'s HuddleUp Profile

      </h1>
    </div>
    <!-- end col -->

  </div>
  <!-- end row -->


  <!-- widget grid -->
  <well>

    <!-- row -->

    <div class="row" style='background-color: #fff;'>

      <div class="widget-body">

        <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => {:method => :put, :class => 'smart-form', :id => 'profile_form'}) do |f| %>
            <%= devise_error_messages! %>
            <%= display_base_errors resource %>

            <div class="panel-group smart-accordion-default" id="accordion-2">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion-2" href="#collapseOne-1">
                    <i class="fa fa-fw fa-plus-circle txt-color-green"></i>
                    <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Personal information </a></h4>
                </div>
                <div id="collapseOne-1" class="panel-collapse collapse in">
                  <div class="panel-body">
                    <fieldset>
                      <section>
                        <label class="label">Name</label>
                        <label class="input">
                          <%= f.text_field :name, :autofocus => true, :class => 'input-lg' %>
                        </label>
                      </section>

                      <section>
                        <label class="label">Email</label>
                        <label class="input">
                          <%= f.email_field :email, :class => 'input-lg' %>
                        </label>
                      </section>
                    </fieldset>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion-2" href="#collapseTwo-1" class="collapsed">
                      <i class="fa fa-fw fa-plus-circle txt-color-green"></i>
                      <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Password change area </a></h4>
                </div>
                <div id="collapseTwo-1" class="panel-collapse collapse">
                  <div class="panel-body">
                    <fieldset>
                      <section>
                        <label class="label">New Password</label>
                        <label class="input">
                          <%= f.password_field :password, :class => 'input-lg', :autocomplete => "off" %>
                          <i>(leave blank if you don't want to change it)</i>
                        </label>
                      </section>

                      <section>
                        <label class="label">New Password Again for Confirmation</label>
                        <label class="input">
                          <%= f.password_field :password_confirmation, :class => 'input-lg' %>
                        </label>
                      </section>
                    </fieldset>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion-2" href="#collapseThree-1" class="collapsed">
                      <i class="fa fa-fw fa-plus-circle txt-color-green"></i>
                      <i class="fa fa-fw fa-minus-circle txt-color-red"></i> Account info </a></h4>
                </div>
                <div id="collapseThree-1" class="panel-collapse collapse">
                  <div class="panel-body">
                    <fieldset>
                      Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3
                      wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum
                      eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla
                      assumenda shoreditch et.
                    </fieldset>
                  </div>
                </div>
              </div>
            </div>


            <fieldset>
              <section>
                <label class="label">Current Password</label>
                <label class="input">
                  <%= f.password_field :current_password, :class => 'input-lg', :placeholder => 'Please enter your current password so we can confirm your request...' %>
                </label>
              </section>
            </fieldset>

            <footer>
              <button type="submit" class="btn btn-success">
                Save
              </button>
            </footer>

        <% end %>

      </div>

    </div>

    <!-- end row -->

  </well>
  <!-- end widget grid -->

  <p></p>

  <h3>Cancel my account</h3>

  <p>Unhappy? <%= button_to "Cancel my account", registration_path(resource_name), :data => {:confirm => "Are you sure?"}, :method => :delete, :class => 'btn btn-danger' %></p>

</div>

<%= render :partial => '/projects/scripts' %>

<script type="text/javascript">

    $(document).ready(function () {

        pageSetUp();

        var $profileForm = $("#profile_form").validate({

            // Rules for form validation
            rules: {
                'user[name]': {
                    required: true,
                    minlength: 3
                },
                'user[email]': {
                    required: true,
                    minlength: 8,
                    email: true
                },
                'user[current_password]': {
                    required: true,
                    minlength: 8
                }
            },

            // Messages for form validation
            messages: {
                'user[name]': {
                    required: 'Please make sure your name is filled in.'
                },
                'user[email]': {
                    required: 'Please make sure your email is filled in.',
                    email: 'Please make sure your email is VALID.'
                },
                'user[current_password]': {
                    required: 'Please enter your current password so we can validate your request.',
                    minlength: 'Password is too short.'
                }
            },

            // Do not change code below
            errorPlacement: function (error, element) {
                error.insertAfter(element.parent());
            }
        });

    })

</script>


<!-- Your GOOGLE ANALYTICS CODE Below -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();

</script>
